#!/usr/bin/env node

require('coffee-script/register');
var Sudoku = require('../lib/sudoku');

var args = process.argv.slice(2);
if (args.length !== 1)
  return console.error('Usage: sudoku name');

var name = args[0];

if (/^gen/.test(name))
  return console.log(Sudoku.generate().toString());

Sudoku.load(name, function(err, board) {
  if (err) return console.log(err);
  console.log('Solving board');
  console.log(board.toString());
  console.log('');
  solution = Sudoku.solve(board);
  console.log('Solution');
  console.log(solution.board.toString());
  console.log('Difficulty', solution.difficulty);
});

